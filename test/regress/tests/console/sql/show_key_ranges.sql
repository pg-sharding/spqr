CREATE DISTRIBUTION ds1 COLUMN TYPES integer;
CREATE KEY RANGE krid2 FROM 40 ROUTE TO sh1 FOR DISTRIBUTION ds1;
CREATE KEY RANGE krid1 FROM 30 ROUTE TO sh1 FOR DISTRIBUTION ds1;

SHOW key_ranges;

CREATE DISTRIBUTION ds2 COLUMN TYPES integer;
CREATE KEY RANGE krid22 FROM 11 ROUTE TO sh1 FOR DISTRIBUTION ds2;
CREATE KEY RANGE krid21 FROM 1 ROUTE TO sh1 FOR DISTRIBUTION ds2;

SHOW key_ranges;

CREATE KEY RANGE krid4 FROM 20 ROUTE TO sh3 FOR DISTRIBUTION ds1;
CREATE KEY RANGE krid3 FROM 10 ROUTE TO sh4 FOR DISTRIBUTION ds1;

SHOW key_ranges ORDER BY "lower_bound" ASC;
SHOW key_ranges ORDER BY "lower_bound" DESC;

SHOW key_ranges WHERE distribution_id = 'ds1';

SHOW key_ranges WHERE shard_id = 'sh3';

-- order by for output stability which is otherwise not guaranteed.
SHOW key_ranges_extended ORDER BY key_range_id;

SHOW key_ranges_extended WHERE distribution_id = 'ds1' ORDER BY key_range_id;

SHOW key_ranges_extended ORDER BY "lower_bound" ASC;

CREATE DISTRIBUTION ds3 COLUMN TYPES integer;
CREATE KEY RANGE krid3_0 FROM 0 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_1 FROM 1000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_2 FROM 2000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_3 FROM 3000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_4 FROM 4000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_5 FROM 5000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_6 FROM 6000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_7 FROM 7000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_8 FROM 8000000000000000000 ROUTE TO sh1 FOR DISTRIBUTION ds3;
CREATE KEY RANGE krid3_9 FROM 9223372036854775807 ROUTE TO sh1 FOR DISTRIBUTION ds3;

SHOW key_ranges_extended WHERE distribution_id = 'ds3';

DROP DISTRIBUTION ALL CASCADE;
DROP KEY RANGE ALL;