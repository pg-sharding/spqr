CREATE DISTRIBUTION ds1 COLUMN TYPES integer;
    add distribution    
------------------------
 distribution id -> ds1
(1 row)

CREATE DISTRIBUTION ds2 COLUMN TYPES varchar hash, integer hash;
    add distribution    
------------------------
 distribution id -> ds2
(1 row)

CREATE DISTRIBUTION ds3 COLUMN TYPES integer hash;
    add distribution    
------------------------
 distribution id -> ds3
(1 row)

ALTER DISTRIBUTION ds1 ATTACH RELATION a DISTRIBUTION KEY a_id;
      attach table      
------------------------
 relation name   -> a
 distribution id -> ds1
(2 rows)

ALTER DISTRIBUTION ds3 ATTACH RELATION b DISTRIBUTION KEY b_id HASH FUNCTION MURMUR;
      attach table      
------------------------
 relation name   -> b
 distribution id -> ds3
(2 rows)

ALTER DISTRIBUTION ds2 ATTACH RELATION c DISTRIBUTION KEY c_id_1 HASH FUNCTION IDENT,
                                                          c_id_2 HASH FUNCTION CITY;
      attach table      
------------------------
 relation name   -> c
 distribution id -> ds2
(2 rows)

ALTER DISTRIBUTION ds1 ATTACH RELATION d DISTRIBUTION KEY d_id;
      attach table      
------------------------
 relation name   -> d
 distribution id -> ds1
(2 rows)

CREATE REFERENCE RELATION z_rf;
   create reference table    
-----------------------------
 table    -> z_rf
 shard id -> sh1,sh2,sh3,sh4
(2 rows)

SHOW relations;
 relation_name | distribution_id |           distribution_key            | schema_name 
---------------+-----------------+---------------------------------------+-------------
 a             | ds1             | ("a_id", identity)                    | public
 b             | ds3             | ("b_id", murmur)                      | public
 c             | ds2             | ("c_id_1", identity),("c_id_2", city) | public
 d             | ds1             | ("d_id", identity)                    | public
 z_rf          | REPLICATED      |                                       | public
(5 rows)

SHOW relations (relation_name, distribution_id, relation_name);
 relation_name | distribution_id | relation_name 
---------------+-----------------+---------------
 a             | ds1             | a
 b             | ds3             | b
 c             | ds2             | c
 d             | ds1             | d
 z_rf          | REPLICATED      | z_rf
(5 rows)

SHOW relations WHERE distribution_id = 'ds1';
 relation_name | distribution_id |  distribution_key  | schema_name 
---------------+-----------------+--------------------+-------------
 a             | ds1             | ("a_id", identity) | public
 d             | ds1             | ("d_id", identity) | public
(2 rows)

SHOW relations WHERE unknown_param = 'ds1';
ERROR:  column unknown_param does not exist
SHOW reference_relations;
 table_name | schema_name | schema_version |      shards       | column_sequence_mapping 
------------+-------------+----------------+-------------------+-------------------------
 z_rf       | public      | 1              | [sh1 sh2 sh3 sh4] | map[]
(1 row)

DROP DISTRIBUTION ALL CASCADE;
 distribution_id 
-----------------
 REPLICATED
 ds1
 ds2
 ds3
(4 rows)

