host: '[spqr_router_1_1]'
router_port: '8432'
admin_console_port: '8433'
grpc_api_port: '7001'

world_shard_address: '[::1]:6432'
world_shard_fallback: true

router_mode: PROXY

frontend_tls:
  key_file: /etc/odyssey/ssl/server.key
  cert_file: /etc/odyssey/ssl/server.crt
  sslmode: disable

frontend_rules:
  - user: user1
    db: db1
    pool_mode: TRANSACTION
    auth_rule:
      auth_method: ok
      password: strong

backend_rules:
  - user: user1
    db: db1
    pool_discard: true
    pool_rollback: true

shards:
  sh1:
    tls:
      key_file: /etc/odyssey/ssl/server.key
      sslmode: disable
      cert_file: /etc/odyssey/ssl/server.crt
    db: db1
    user: user1
    password: 12345678
    type: DATA
    hosts:
      - '192.168.233.2:6432'
  sh2:
    tls:
      key_file: /etc/odyssey/ssl/server.key
      sslmode: disable
      cert_file: /etc/odyssey/ssl/server.crt
    db: db1
    user: user1
    password: 12345678
    type: DATA
    hosts:
      - '192.168.233.3:6432'
  w1:
    tls:
      key_file: /etc/odyssey/ssl/server.key
      sslmode: disable
      cert_file: /etc/odyssey/ssl/server.crt
    db: db1
    user: user1
    password: 12345678
    type: WORLD
    hosts:
      - '192.168.233.8:6432'