syntax = "proto3";

package spqr;

option go_package = "spqr/proto";

message ShardingRule {
  string id = 1;
  repeated string columns = 2;
}

message AddShardingRuleRequest {
  repeated ShardingRule rules = 1;
}

message AddShardingRuleReply {}

message ListShardingRuleRequest {}

message ListShardingRuleReply {
  repeated ShardingRule rules = 1;
}

message DropShardingRuleRequest {
  repeated string id = 1;
}

message DropShardingRuleReply {}

service ShardingRulesService {
  rpc AddShardingRules(AddShardingRuleRequest) returns (AddShardingRuleReply) {}
  rpc DropShardingRules(DropShardingRuleRequest) returns (DropShardingRuleReply) {}
  rpc ListShardingRules(ListShardingRuleRequest) returns (ListShardingRuleReply) {}
}
