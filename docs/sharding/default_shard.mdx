---
title: 'Default shard'
---

A distribution can have a default shard that acts as a catch-all fallback. When the router matches a query to a distribution with a default shard, it is guaranteed to find a routeâ€”even if the sharding key doesn't fall within any explicitly defined key range.

The default shard is implemented as a special key range with the minimum possible value as its lower bound. This key range has a reserved ID: `{DistributionId}.DEFAULT`.

For example, if the distribution has column types `[varchar, integer]`, the default key range lower bound is `["", -9223372036854775808]`.

## Supported Column Types

| Column Type | Default Lower Bound |
|-------------|---------------------|
| `integer` | `-9223372036854775808` (MinInt64) |
| `uinteger` | `0` |
| `varchar` | `""` (empty string) |
| `varchar hash` | `0` |

<Warning>`uuid` column type does not support default shard. See [issue #1666](https://github.com/pg-sharding/spqr/issues/1666).</Warning>

## How to Use It

Given a distribution with key range `kr1` starting "From 0", you can add a default shard:
```sql
ALTER DISTRIBUTION testWithDefault ADD DEFAULT SHARD sh2;
        create default shard        
------------------------------------
 distribution id -> testWithDefault
 shard id        -> sh2
(2 rows)
```
result:
```sql
show key_ranges;
      Key range ID       | Shard ID | Distribution ID |     Lower bound      | Locked 
-------------------------+----------+-----------------+----------------------+--------
 kr18b713215             | sh1      | ds1             | 0                    | true
 testWithDefault.DEFAULT | sh2      | testWithDefault | -9223372036854775808 | false
(2 rows)

```

The default shard functionality is supported for the 'integer', 'unsigned integer', and 'varchar' types, as well as hash-based routing.
